\section{Bases de datos Web}

\subsection{Introducción}

La World Wide Web (Web, de manera abreviada) aparece a finales de los años 90, proporcionando una técnica simple para explorar grandes volúmenes de páginas de información que residen en Internet. La información que puede contener dichas páginas puede ser texto, gráficos, imágenes, sonidos y video, además de los hipervínculos que una página web posee hacia otra página. \\
\indent Por todo ello, la Web puede definirse como \textit{un sistema basado en tecnología hipermedia que proporciona un método de explorar información en Internet de forma no secuencial, utilizando hipervínculos}. \cite{libro-dedales}

La Web está compuesta por una red muy numerosa de computadores, donde unos actúan como \textit{servidores}, para proporcionar la información, y otros como \textit{clientes} o \textit{navegadores Web}, que solicitan a los servidores la información, utilizando un protocolo de comunicación. El protocolo que se utiliza para transferir las páginas Web a través de Internet es \textbf{HTTP}, que es un protocolo genérico, orientado a objetos y sin memoria del estado, es decir, que el servidor no almacena ninguna información entre una solicitud y la siguiente. Sin embargo, esta carencia de memoria de HTTP hace que sea difícil soportar el concepto de \textit{sesión}, necesario para poder realizar las operaciones necesarias sobre el SGBD (Sistema Gestor de Bases de Datos). \\
\indent Por otra parte, para componer y poder publicar un documento en la Web, se utiliza el lenguaje HTML, el cuál define la información que se transmite entre nodos de la red. Dicho lenguaje ha ido evolucionando a lo largo de su historia, utilizándose actualmente la versión HTML 4.01, que tiene soporte para hojas de estilo, scripts y objetos incrustados.

Con todo ello, se puede resumir el funcionamiento de un navegador Web en los siguientes puntos: 
\begin{enumerate}
	\item El usuario, haciendo uso del navegador web (sistema cliente), solicita visualizar una página web.
	\item El navegador solicita esta página (que está codificada en lenguaje HTML, el lenguaje que puede interpretar) al servidor web (sistema servidor), utilizando el protocolo HTTP.
	\item El servidor web envía la información que le han pedido, en HTML, al navegador del usuario.
	\item El navegador muestra la página web en la pantalla del usuario.
\end{enumerate}

Como se puede comprobar, el intercambio de información entre el cliente y el servidor es posible gracias a que, entre otras cosas, las páginas Web utilizan el lenguaje HTML. Sin emabargo, tradicionalmente, se han utilizado documentos HTML estáticos, para los cuales se creaban las posibles respuestas ante las peticiones del cliente. Pero, en la actualidad, surge la posibilidad de utilizar aplicaciones que permitan acceder a información de forma dinámica, con contenidos y formatos muy diversos. Esto ha hecho que sea necesaria la integración de los SGBDs en los servidores Web, para poder recuperar la información de la base de datos según la petición que envie el cliente.

Así, en la sección \ref{estatica-dinamica} se van a comentar las diferencias existentes entre una página Web estática y una página Web dinámica, además de comentar brevemente los servicios Web. En la sección \ref{requisitos} se van a comentar las características o requisitos que debe tener una base de datos para su uso en la Web, así como sus ventajas y desventajas. Para terminar ......... (TXEDO).

\subsection{Páginas Web estáticas y dinámicas} \label{estatica-dinamica}

Una página web estática se puede definir como un documento HTML que contiene la información sobre la página y donde dicha información no cambia, a no ser que se cambie el propio documento. Por esta razón, no es necesario acceder a una base de datos para recuperar la información, ya que se ésta se encuentra contenida dentro del propio documento que se va a enviar al cliente. 

Sin embargo, la información de una página Web dinámica se genera cada vez que se accede a dicha página, realizando, por ejemplo, consultas a una base de datos. De este modo, las páginas Web dinámicas tienen características que no tienen las páginas Web estáticas:

\begin{milista}
	\item Los datos que se muestran en la página Web son personalizados para cada usuario.
	\item Se puede responder a los datos de entrada que el usuario introduce a través del navegador. 
\end{milista}

En la actualidad, prácticamente todas las páginas que existen son dinámicas, pero existe otro paradigma que está cobrando una gran imporantica a la hora de construir y utilizar aplicaciones Web: \textbf{Servicios Web}. Un servicio Web puede definirse como \textit{un conjunto de aplicaciones o de tecnologías con capacidad para interoperar en la Web, intercambiando datos entre sí con el objetivo de ofrecer unos servicios}.  \cite{servicios-web} En la Figura \ref{fig:servicio} se puede observar un ejemplo de servicios Web.

\imagen{./imagenes/servicioWeb}{0.6}{Interacción entre Servicios Web}{fig:servicio}

Las tecnologías estándares que utiliza un servicio Web para esta interoperabilidad son: 

\begin{milista}
	\item Lenguaje XML (eXtensible Markup Language).
	\item Protocolo SOAP (Simple Object Access Protocol), para la comunicación en Internet.
	\item Lenguaje WSDL (Web Services Description Language), para describir el servicio Web.
	\item Protocolo UDDI (Universal Discovery, Description and Integration), que se utiliza para registrar el servicio y que pueda ser utilizado.
\end{milista}

En el caso de los servicios Web, como al fin y al cabo son aplicaciones Web, es también necesario el uso de base de datos, para poder acceder a la información que necesita la aplicación pasa su funcionamiento. 

\subsection{Integración Web-SGBD}

En la Web, no se puede hablar de un tipo de SGBD específico, como puede ocurrir en otros tipos de bases de datos, como pueden ser las orientadas a objetos. Si bien es cierto que existen fabricantes que tratan de proporcionar soluciones propietarias de conectividad, la mayoría de empresas prefieren utilizar un SGBD más general, para no atarse a una tecnología concreta. Así, las bases de datos Web no son más que SGBD utilizados y orientados a la Web, de tal modo que se utiliza el SGBD que más se adapte a la naturaleza de la información que debe manejar la aplicación Web correspondiente.  

Los requisitos que debe cumplir un SGBD para poder integrarse en una aplicación Web, son los siguientes: 

\begin{milista}
	\item Incorporar algún tipo de \textit{middleware} (capa de software que se sitúa sobre el SGBD) para añadir conectividad a la base de datos a través de Internet. Dicha conectividad debe ser independiente de los datos y del fabricante.
	\item Soporte para transacciones que abarquen múltiples solicitudes HTTP (es decir, acceso concurrente a los datos).
  \item Soporte para mecanismos de autenticación basados en la sesión y en la aplicación.
	\item Arquitectura abierta que permita la interoperabilidad con diversos sistemas y tecnologías (servicios Web, RMI, CORBA, XML, etc.)
\end{milista}

No obstante, existe un tipo especial de SGBD que se utiliza para datos semi-estructurados, que son datos que pueden ser irregulares o incompletos, cuya estructura puede cambiar de forma rápida o impredecible y son débilmente tipados. \cite{semi-estructurado}. \\
\indent Por este motivo, un SGBD como puede ser un SGBD relacional u orientado a objetos pueden tener problemas a la hora de manejar datos de este tipo, ya que dichos SGBD almacenan los datos siguiendo un esquema fijo, como puede ser una tabla, en el modelo relacional. 

Por tanto, para tratar con este tipo de datos, que abunda en la Web, se utilizan los siguiente modelos y SGBD específicos:

\subsubsection{Modelo de Intercambio de Objetos (OEM - Object Exchange Model}

OEM (\cite{oem}) es un modelo de objetos anidados que fue diseñado para su uso en diferentes proyectos del \textit{Grupo de Bases de Datos de la Universidad de Standford}, para soportar la integración de datos de diferentes orígenes de datos. Los datos OEM son carentes de esquema y pueden considerarse como un grafo dirigido etiquetado (ver Figura \ref{fig:oem}), donde los nodos son objetos. A su vez, cada objeto está compuesto por un identificador, una etiqueta descriptiva, un tipo de datos y un valor. En cuanto a los tipos de datos, éstos pueden ser simples (\textit{string}, \textit{int}, etc.) y no tienen conexiones con otros nodos del grafo, o puden ser otros objetos, que se conectan con otros nodos del grafo.

\imagen{./imagenes/OEM}{0.5}{Ejemplo de datos en el modelo OEM}{fig:oem}

\subsubsection{XML - eXtensible Markup Language}

XML (\cite{xml}) es un metalenguaje definido por el World Wide Web Consortium (W3C) que permite la definición de etiquetas personalizadas para proporcionar funcionalidad no disponible en HTML. En XML existen dos tipos de modelos: el modelo centrado en los datos y el modelo centrado en los documentos.

Si se utiliza como modelo de documentos, XML se utiliza como formato de almacenamiento e intercambio para datos que estructurados. En este caso, los datos podrían almacenarse en un SGBD relacional, transformando el documento XML en el esquema relacional. Esto puede hacer con una extensión del SQL, llamada SQL/XML.

En el caso de que XML se use para codificar datos semi-estructurados, se usa una base de datos XML nativa (\textit{NXD, Native XML Database}), las cuáles definen un modelo de datos para un documento XML, almacenando y extrayendo documentos de acuerdo con dicho modelo. Ejemplos de estos SGBD son Lore, Infonyte DB o Tamino XML Server. Además, se pueden distinguir dos tipos de NXD, según como almacenen la información: 
\begin{milista}
	\item \textbf{Basados en texto:} almacenan el código XML como texto, como un archivo de un sistema de archivos o como un dato de tipo CLOB en un SGBD relacional.
	\item \textbf{Basados en modelo:} almacenan el código XML en alguna representación interna en forma de árbol.
\end{milista}

Por otra parte, estas bases de datos XML utilizan un lenguaje de consulta de datos llamado \textit{XQuery}. Un ejemplo de consulta para obtener una lista de identificadores de empleados de un documento XML, es el siguiente: 
\begin{verbatim}
FOR $S IN doc(staff_list.xml)
	WHERE $S/SALARY >15000 AND $S/@branchNo=B005
RETURN $S/STAFFNO
\end{verbatim}




